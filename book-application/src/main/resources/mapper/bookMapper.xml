<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wizz.mapper.BookMapper">

    <select id="getBookByCategoryName" resultType="com.wizz.dto.BookDto">
        select b.book_name         book_name,
               c.category_name     book_category_name,
               bx.status_name      book_status_name,
               b.book_left_numbers book_left_numbers
        from book b
                 left join book_category bc on b.book_id = bc.book_id
                 left join category c on bc.category_id = c.category_id
                 left join book_status bx on bx.id = b.book_status_id
        where c.category_name = #{category_name}
    </select>


    <select id="getBookByContent" resultType="com.wizz.dto.BookDto">
        select b.book_name         book_name,
               bx.status_name      book_status_name,
               b.book_left_numbers book_left_numbers
        from book b
                 left join book_status bx on bx.id = b.book_status_id
        where b.book_name like '%${content}%'
    </select>
</mapper>